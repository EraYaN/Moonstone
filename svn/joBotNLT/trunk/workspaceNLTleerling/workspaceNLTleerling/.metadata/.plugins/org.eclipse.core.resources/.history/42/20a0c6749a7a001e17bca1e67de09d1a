/*
 * Created on Aug 13, 2004
 * DriveTestJrBehavior (dip=5) drives the robot in a straight
 * line at various speeds
 */
package javaBot.Nano.Rescue;

import com.muvium.apt.PeriodicTimer;

/**
 * Opdracht 4A - Snelheid aanpassen
 * Opdracht 4B - Count toevoegen en state laten zien
 *
 */

public class DriveBehavior04A extends Behavior {
	private BaseController joBot;
	private int state = 0;
	private int count = 0;
	int sl = 0;

	public DriveBehavior04A(BaseController initJoBot,
			PeriodicTimer initServiceTick, int servicePeriod) {
		super(initJoBot, initServiceTick, servicePeriod);
		joBot = initJoBot;
	}

	public void doBehavior() {

		if (state == 0) {
			joBot.drive(100, 100);
			joBot.setStatusLeds(false, false, false); // Turn leds off
			joBot.printLCD("State=0");				  // Show state			
			count++;
			if (count >= 20) {
		    	joBot.setStatusLeds(true, false, false); // Turn yellow on
		    	state = 1;
		    }
		}

		if (state == 1) {
			joBot.drive(0, 0);
			joBot.printLCD("State=1");			// Toon state		
			}
	}
}
